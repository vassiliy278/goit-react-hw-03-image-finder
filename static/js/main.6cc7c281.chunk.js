(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports=a(37)},2:function(e,t,a){e.exports={App:"style_App__1PElp",Searchbar:"style_Searchbar__f52P4",SearchForm:"style_SearchForm__3p2ik",SearchFormButton:"style_SearchFormButton__2tuad",SearchFormButtonLabel:"style_SearchFormButtonLabel__3b1Ps",SearchFormInput:"style_SearchFormInput__1m_ZR",ImageGallery:"style_ImageGallery__25uTC",ImageGalleryItem:"style_ImageGalleryItem__1_yQS",ImageGalleryItemImage:"style_ImageGalleryItemImage__19WJt",Overlay:"style_Overlay__csboF",Modal:"style_Modal__2Ot8F",Button:"style_Button__3wkyu",Spinner:"style_Spinner__RzwLF"}},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=a(7),i=a(3),s=a(4),u=a(6),m=a(5),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fetch("https://pixabay.com/api/?key=16604431-86fbec6f82ccbe895fd4f060b&q=".concat(e,"&image_type=photo&per_page=12&page=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.hits}))},g=a(10),p=a.n(g),f=a(2),y=a.n(f);function d(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:y.a.Spinner,type:"ThreeDots",color:"#111",height:50,width:50}))}var v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputText:""},e.handleInput=function(t){e.setState({inputText:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),(0,e.props.onSubmit)(e.state.inputText),e.setState({inputText:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:y.a.Searchbar},r.a.createElement("form",{className:y.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:y.a.SearchFormButton},r.a.createElement("span",{className:y.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{value:this.state.inputText,onChange:this.handleInput,className:y.a.SearchFormInput,type:"text",autoFocus:!0,placeholder:"Search images and photos"})))}}]),a}(n.PureComponent),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).escapeClick=function(t){"Escape"===t.key&&e.props.removeImg()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.escapeClick)}},{key:"componentWillUnmount",value:function(){console.log("unmntd"),window.removeEventListener("keydown",this.escapeClick)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt;return r.a.createElement("div",{className:y.a.Overlay},r.a.createElement("div",{className:y.a.Modal},r.a.createElement("img",{src:t,alt:a})))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={enlarge:!1},e.enlarging=function(){e.setState({enlarge:!0})},e.removeLarge=function(){console.log("remove img"),e.setState({enlarge:!1})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt,n=e.fullScreen,c=e.id;return r.a.createElement("li",{className:"ImageGalleryItem",key:c},r.a.createElement("img",{onClick:this.enlarging,src:t,title:a,className:y.a.ImageGalleryItemImage}),this.state.enlarge&&r.a.createElement(S,{src:n,alt:a,removeImg:this.removeLarge}))}}]),a}(n.Component);function _(e){var t=e.images;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("ul",{className:y.a.ImageGallery},t.map((function(e){return r.a.createElement(b,{src:e.webformatURL,alt:e.tags,fullScreen:e.largeImageURL,id:e.id,key:e.id})}))))}function E(e){var t=e.byClick;return r.a.createElement("button",{className:y.a.Button,onClick:t},"Load More")}var I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:null,searchString:"",page:1,loading:!1},e.handleSubmit=function(t){e.setState({searchString:t})},e.pageChange=function(){setTimeout((function(){window.scroll({top:document.documentElement.scrollHeight,behavior:"smooth"})}),700),e.setState((function(e){return{page:e.page+1}}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.searchString,c=n.page;n.images;t.searchString!==r&&(this.setState({loading:!0}),h(r,c).then((function(e){return a.setState((function(t){return{images:e}}))})).catch((function(e){return console.log(e)})).finally((function(){a.setState({loading:!1})}))),t.page!==c&&(this.setState({loading:!0}),h(r,c).then((function(e){return a.setState((function(t){return{images:[].concat(Object(o.a)(t.images),Object(o.a)(e))}}))})).catch((function(e){return console.log(e)})).finally((function(){a.setState({loading:!1})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.loading;e.pig;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{onSubmit:this.handleSubmit}),t&&a&&r.a.createElement(d,null),r.a.createElement(_,{images:this.state.images}),a?r.a.createElement(d,null):t&&r.a.createElement(E,{byClick:this.pageChange}))}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.6cc7c281.chunk.js.map